<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¸í„°ë™í‹°ë¸Œ í™‹ì¹´ì´ë„ ê°€ì¡± ì—¬í–‰ í”Œë˜ë„ˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Calm Harmony -->
    <!-- Application Structure Plan: A daily dashboard SPA. A top navigation bar allows users to switch between days (Day 1-4) and a "Trip Essentials" section. Each day is presented as a vertical timeline of interactive cards. Clicking a card reveals details like map codes or notes. The "Essentials" section includes a budget visualization chart and a quick-reference contact list. This structure prioritizes quick, on-the-go access to relevant information for a specific day, which is more user-friendly for a travel itinerary than a linear document. -->
    <!-- Visualization & Content Choices:
        - Itinerary Timeline (Report Chapters 2-5): Goal: Show daily flow. Method: Interactive cards in a vertical timeline (HTML/Tailwind/JS). Interaction: Click to expand for details. Justification: Breaks down dense text into manageable, sequential steps.
        - Budget Breakdown (Report Table 3): Goal: Compare expense categories. Method: Chart.js Donut Chart. Interaction: Hover to see details. Justification: Provides a quick visual summary of spending.
        - Key Contacts (Report Table 2): Goal: Quick access to navigation/contact info. Method: HTML table. Interaction: "Copy Mapcode" button. Justification: Highly practical for in-car navigation.
        - Pre-trip Prep (Report Chapter 1): Goal: Task tracking. Method: HTML checklist. Justification: Simple and effective for ensuring readiness.
        - Split Plan (Day 3): Goal: Show a group choice. Method: Tabbed content within a card for Pokemon Center vs. free time. Interaction: Click to switch views. Justification: Neatly organizes parallel activities for a large group.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #F8F5F2;
            color: #4A4A4A;
        }
        .nav-button {
            transition: all 0.3s ease;
        }
        .nav-button.active {
            background-color: #588B8B;
            color: #FFFFFF;
            font-weight: 700;
        }
        .nav-button:not(.active):hover {
            background-color: #C8AD_B0;
            color: #FFFFFF;
        }
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
        }
        .timeline-item::before {
            content: '';
            position: absolute;
            left: 1.25rem;
            top: 1.25rem;
            bottom: -1.25rem;
            width: 2px;
            background-color: #C8AD_B0;
            transform: translateX(-50%);
        }
        .timeline-item:last-child::before {
            display: none;
        }
        .timeline-dot {
            position: absolute;
            left: 1.25rem;
            top: 1.25rem;
            height: 1rem;
            width: 1rem;
            background-color: #588B8B;
            border-radius: 9999px;
            transform: translateX(-50%);
            border: 2px solid #F8F5F2;
        }
        .details-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out;
        }
        .details-content.open {
            max-height: 500px;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        .alt-tab.active {
            border-bottom: 2px solid #588B8B;
            color: #588B8B;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
    </style>
</head>
<body class="antialiased">

<div class="container mx-auto p-4 md:p-8 max-w-4xl">

    <header class="text-center mb-8">
        <h1 class="text-3xl md:text-4xl font-bold text-[#588B8B]">ì¤€ê²¸ì´ë„¤ í™‹ì¹´ì´ë„ ì—¬í–‰ ê³„íš</h1>
        <p class="mt-2 text-lg">í›„ë¼ë…¸ì˜ ìì—°ë¶€í„° ì‚¿í¬ë¡œì˜ í™œê¸°ê¹Œì§€, 3ë°• 4ì¼ê°„ì˜ ì—¬ì •</p>
    </header>

    <nav class="flex flex-wrap justify-center gap-2 mb-8 sticky top-2 z-10 bg-[#F8F5F2]/80 backdrop-blur-sm p-2 rounded-xl shadow-sm">
        <button data-target="day1" class="nav-button active text-sm md:text-base px-4 py-2 rounded-full">1ì¼ì°¨: í›„ë¼ë…¸</button>
        <button data-target="day2" class="nav-button text-sm md:text-base px-4 py-2 rounded-full">2ì¼ì°¨: ë¹„ì—ì´ & ì‚¿í¬ë¡œ</button>
        <button data-target="day3" class="nav-button text-sm md:text-base px-4 py-2 rounded-full">3ì¼ì°¨: ì‚¿í¬ë¡œ íƒí—˜</button>
        <button data-target="day4" class="nav-button text-sm md:text-base px-4 py-2 rounded-full">4ì¼ì°¨: ì‘ë³„</button>
        <button data-target="essentials" class="nav-button text-sm md:text-base px-4 py-2 rounded-full">í•µì‹¬ ì •ë³´</button>
    </nav>

    <main id="app-content">
        <!-- Content will be generated by JavaScript -->
        <section id="day1" class="content-section active"></section>
        <section id="day2" class="content-section"></section>
        <section id="day3" class="content-section"></section>
        <section id="day4" class="content-section"></section>
        <section id="essentials" class="content-section"></section>
    </main>
</div>

<script>
    const travelData = {
        day1: {
            title: "í›„ë¼ë…¸ì˜ ëŒ€ìì—° ì†ìœ¼ë¡œ",
            intro: "11ì‹œ ì‹ ì¹˜í† ì„¸ ê³µí•­ ë„ì°© í›„, ë Œí„°ì¹´ 2ëŒ€ë¥¼ ìˆ˜ë ¹í•˜ì—¬ í›„ë¼ë…¸ë¡œ í–¥í•©ë‹ˆë‹¤. ì´ë™ ì¤‘ ê°„ë‹¨íˆ ì ì‹¬ì„ í•´ê²°í•˜ê³ , ì•„ì´ë“¤ì´ ì¢‹ì•„í•  ë§Œí•œ ì•¡í‹°ë¹„í‹°ê°€ ê°€ë“í•œ 'ì‹œí‚¤ì‚¬ì´ë…¸ì˜¤ì¹´'ì— ì§‘ì¤‘í•˜ì—¬ ì²«ë‚ ì˜ í”¼ë¡œë¥¼ ëœì–´ëƒ…ë‹ˆë‹¤. ì €ë…ì—ëŠ” ì˜¨ì²œì—ì„œì˜ í¸ì•ˆí•œ íœ´ì‹ì´ ê¸°ë‹¤ë¦½ë‹ˆë‹¤.",
            events: [
                { time: "11:00", icon: "âœˆï¸", title: "ì‹ ì¹˜í† ì„¸ ê³µí•­ ë„ì°© ë° ë Œí„°ì¹´ ìˆ˜ë ¹", description: "ì…êµ­ ìˆ˜ì† ë° ìˆ˜í•˜ë¬¼ ìˆ˜ì·¨ í›„ ì˜ˆì•½í•œ ë Œí„°ì¹´ 2ëŒ€ë¥¼ ìˆ˜ë ¹í•©ë‹ˆë‹¤. (ì•½ 1.5~2ì‹œê°„ ì†Œìš” ì˜ˆìƒ)" },
                { time: "13:00", icon: "ğŸš—", title: "í›„ë¼ë…¸ë¡œ ì¶œë°œ ë° ì ì‹¬", description: "í›„ë¼ë…¸ë¡œ ì¶œë°œí•©ë‹ˆë‹¤(ì•½ 2.5ì‹œê°„ ì†Œìš”). ì´ë™ ì¤‘ ê³ ì†ë„ë¡œ íœ´ê²Œì†Œ(SA)ì—ì„œ ê°„ë‹¨í•˜ê³  ë¹ ë¥´ê²Œ ì ì‹¬ ì‹ì‚¬ë¥¼ í•´ê²°í•˜ëŠ” ê²ƒì„ ì¶”ì²œí•©ë‹ˆë‹¤." },
                { time: "15:30", icon: "ğŸŒ¸", title: "ì‹œí‚¤ì‚¬ì´ë…¸ì˜¤ì¹´ì—ì„œ ì¦ê±°ìš´ ì˜¤í›„", description: "ëŠ¦ì€ ì˜¤í›„ ë„ì°©ì´ë¯€ë¡œ, íŒœ í† ë¯¸íƒ€ë³´ë‹¤ ì•„ì´ë“¤ì„ ìœ„í•œ ì•¡í‹°ë¹„í‹°(ì•ŒíŒŒì¹´ ëª©ì¥, íŠ¸ë™í„° ë²„ìŠ¤)ê°€ ë§ì€ ì‹œí‚¤ì‚¬ì´ë…¸ì˜¤ì¹´ í•œ ê³³ì— ì§‘ì¤‘í•˜ì—¬ ì—¬ìœ ë¡­ê²Œ ì¦ê¹ë‹ˆë‹¤.", details: "ì‹œí‚¤ì‚¬ì´ë…¸ì˜¤ì¹´ ë§µì½”ë“œ: https://share.google/DtBPUq6XwT4eHzd1q ì‹œê°„ê³¼ ì²´ë ¥ì„ ê³ ë ¤í•œ íš¨ìœ¨ì ì¸ ì„ íƒì…ë‹ˆë‹¤." },
                { time: "17:30", icon: "ğŸ¨", title: "ìˆ™ì†Œ ì²´í¬ì¸ ë° ì €ë…", description: "'í›„ë¼ë…¸ ë¼ í…Œë¥´'ì— ì²´í¬ì¸ í›„, í˜¸í…” ë‚´ ë ˆìŠ¤í† ë‘ì—ì„œ í™”ì •ì‹ìœ¼ë¡œ ì €ë… ì‹ì‚¬ë¥¼ í•©ë‹ˆë‹¤. ì´í›„ 15ì¢…ë¥˜ì˜ ìš•ì¡°ë¥¼ ê°–ì¶˜ ì²œì—° ì˜¨ì²œì—ì„œ í”¼ë¡œë¥¼ í’‰ë‹ˆë‹¤.", details: "ìˆ™ì†Œ ë§µì½”ë“œ: 349 308 688*10\nì €ë… ì‹ì‚¬ëŠ” ì‚¬ì „ ì˜ˆì•½ì´ í•„ìˆ˜ì…ë‹ˆë‹¤. í˜¸í…” ì´ë©”ì¼(yoyaku@f-laterre.com)ë¡œ 9ëª… ì˜ˆì•½ì„ í™•ì •í•˜ì„¸ìš”." }
            ]
        },
        day2: {
            title: "ë¹„ì—ì´ì˜ ì ˆê²½ê³¼ ì‚¿í¬ë¡œ ì…ì„±",
            intro: "ì˜¤ì „ì—ëŠ” ë¹„í˜„ì‹¤ì ì¸ í’ê²½ì˜ ì²­ì˜ í˜¸ìˆ˜ì™€ í° ìˆ˜ì—¼ í­í¬ë¥¼ ë‘˜ëŸ¬ë³´ê³ , íŒ¨ì¹˜ì›Œí¬ ë¡œë“œë¥¼ ë“œë¼ì´ë¸Œí•©ë‹ˆë‹¤. ì˜¤í›„ì—ëŠ” ë™í™” ê°™ì€ ë‹êµ¬ë¥´ í…Œë¼ìŠ¤ë¥¼ ë°©ë¬¸í•œ ë’¤, í™‹ì¹´ì´ë„ì˜ ì¤‘ì‹¬ ë„ì‹œ ì‚¿í¬ë¡œë¡œ ì´ë™í•˜ì—¬ ëª…ë¬¼ ìŠ¤í”„ì¹´ë ˆë¡œ ì €ë…ì„ ì¦ê¹ë‹ˆë‹¤.",
            events: [
                { time: "ì˜¤ì „", icon: "ğŸï¸", title: "ë¹„ì—ì´ íŒŒë…¸ë¼ë§ˆ íˆ¬ì–´", description: "ì‹ ë¹„ë¡œìš´ ì½”ë°œíŠ¸ë¸”ë£¨ ë¹›ì˜ 'ì²­ì˜ í˜¸ìˆ˜'ì™€ 'í° ìˆ˜ì—¼ í­í¬'ë¥¼ ê°ìƒí•˜ê³ , ì¡°ê°ë³´ ê°™ì€ ì–¸ë•ì´ í¼ì³ì§„ 'íŒ¨ì¹˜ì›Œí¬ ë¡œë“œ'ë¥¼ ë“œë¼ì´ë¸Œí•©ë‹ˆë‹¤.", details: "í° ìˆ˜ì—¼ í­í¬ ë§µì½”ë“œ: 796 182 575*30 (ì£¼ì°¨ ë¬´ë£Œ)\nì²­ì˜ í˜¸ìˆ˜ ë§µì½”ë“œ: 349 568 888*11 (ì£¼ì°¨ ìœ ë£Œ)" },
                { time: "12:30", icon: "ğŸ¥–", title: "ì ì‹¬: í˜ë¥´ë©” ë¼ í…Œë ˆ ë¹„ì—ì´", description: "ë¹„ì—ì´ì˜ ì–¸ë• í’ê²½ì„ ê°ìƒí•˜ë©° í˜„ì§€ ì‹ì¬ë£Œë¡œ ë§Œë“  ë§›ìˆëŠ” ì ì‹¬ì„ ì¦ê¹ë‹ˆë‹¤. ë ˆìŠ¤í† ë‘, ì¹´í˜, ë² ì´ì»¤ë¦¬ê°€ í•¨ê»˜ ìˆì–´ ì„ íƒì˜ í­ì´ ë„“ìŠµë‹ˆë‹¤.", details: "ëŒ€ê°€ì¡±ì—ê²Œ ìµœì í™”ëœ ì¥ì†Œ. ì‚¬ì „ ì˜ˆì•½ ê¶Œì¥. (ì „í™”: 0166-74-4417)" },
                { time: "14:30", icon: "ğŸŒ²", title: "ë‹êµ¬ë¥´ í…Œë¼ìŠ¤ ì‚°ì±…", description: "ìˆ²ì† í†µë‚˜ë¬´ì§‘ ê³µë°©ë“¤ì´ ëª¨ì—¬ìˆëŠ” ë‚­ë§Œì ì¸ ê³µê°„ì„ ë‘˜ëŸ¬ë³´ë©° ì•„ê¸°ìê¸°í•œ ìˆ˜ê³µì˜ˆí’ˆì„ êµ¬ê²½í•©ë‹ˆë‹¤.", details: "ë§µì½”ë“œ: 919 554 432*81. ì‚¿í¬ë¡œë¡œ ê°€ê¸° ì „ ë§ˆì§€ë§‰ ì½”ìŠ¤ë¡œ ì™„ë²½í•©ë‹ˆë‹¤." },
                { time: "17:30", icon: "ğŸ¨", title: "ì‚¿í¬ë¡œ í˜¸í…” ì²´í¬ì¸ ë° ì €ë…", description: "'í˜¸í…” ë¦¬í¬íŠ¸ ì‚¿í¬ë¡œ'ì— ì²´í¬ì¸ í›„, ì‚¿í¬ë¡œì˜ ëª…ë¬¼ 'ìŠ¤í”„ì¹´ë ˆ'ë¡œ ì €ë… ì‹ì‚¬ë¥¼ í•©ë‹ˆë‹¤.", details: "ì¶”ì²œ ì‹ë‹¹: RAMAI (ë¹„êµì  ë„“ì€ ë§¤ì¥ ë³´ìœ ). ëŒ€ê°€ì¡±ì´ë¯€ë¡œ ë°˜ë“œì‹œ ì‚¬ì „ ì˜ˆì•½ì„ í•˜ì„¸ìš”." }
            ]
        },
        day3: {
            title: "ì‚¿í¬ë¡œ ë§Œë½í•˜ê¸°",
            intro: "í™œê¸°ì°¬ ìˆ˜ì‚° ì‹œì¥ì—ì„œ ì‹ ì„ í•œ í•´ì‚°ë¬¼ë¡œ ì•„ì¹¨ì„ ì‹œì‘í•˜ê³ , ì˜¤í›„ì—ëŠ” ë‘ ê·¸ë£¹ìœ¼ë¡œ ë‚˜ë‰˜ì–´ ê°ìì˜ ì·¨í–¥ì— ë§ëŠ” ì‹œê°„ì„ ë³´ëƒ…ë‹ˆë‹¤. ì €ë…ì—ëŠ” í™‹ì¹´ì´ë„ ëŒ€í‘œ ìŒì‹ì¸ ì§•ê¸°ìŠ¤ì¹¸ìœ¼ë¡œ ë‹¤ í•¨ê»˜ ë§Œì°¬ì„ ì¦ê¸°ê³ , ì‚¿í¬ë¡œì˜ ì•¼ê²½ìœ¼ë¡œ í•˜ë£¨ë¥¼ ë§ˆë¬´ë¦¬í•©ë‹ˆë‹¤.",
            events: [
                { time: "ì˜¤ì „", icon: "ğŸ¦€", title: "ì•„ì¹¨: ì‚¿í¬ë¡œ ì¥ì™¸ì‹œì¥", description: "ì‹ ì„ í•œ í•´ì‚°ë¬¼ì´ ê°€ë“í•œ ì¥ì™¸ì‹œì¥ì—ì„œ ì¹´ì´ì„¼ë™(í•´ì‚°ë¬¼ ë®ë°¥)ì´ë‚˜ ìƒì„ êµ¬ì´ ì •ì‹ìœ¼ë¡œ í™œê¸°ì°¬ ì•„ì¹¨ì„ ì‹œì‘í•©ë‹ˆë‹¤.", details: "ë‹ˆì¡° ì‹œì¥ë³´ë‹¤ ê·œëª¨ê°€ í¬ê³  ëŒ€í˜• ì‹ë‹¹ì´ ë§ì•„ ëŒ€ê°€ì¡± ì‹ì‚¬ì— ë” ì í•©í•©ë‹ˆë‹¤. ì¶”ì²œ ì‹ë‹¹: í‚¤íƒ€ë…¸ êµ¬ë£¨ë©”í…Œì´(åŒ—ã®ã‚°ãƒ«ãƒ¡äº­)." },
                {
                    time: "ì˜¤í›„",
                    icon: "ğŸ›ï¸",
                    title: "ì˜¤í›„ ê·¸ë£¹ë³„ í™œë™",
                    description: "ê°€ì¡±ë“¤ì˜ ì·¨í–¥ì— ë”°ë¼ ë‘ ê·¸ë£¹ìœ¼ë¡œ ë‚˜ë‰˜ì–´ ì‚¿í¬ë¡œì—­ ì£¼ë³€ì—ì„œ ì˜¤í›„ ì‹œê°„ì„ ë³´ëƒ…ë‹ˆë‹¤.",
                    isAlternative: true,
                    main: {
                        title: "ê·¸ë£¹ A: í¬ì¼“ëª¬ ì„¼í„° & ìºë¦­í„° ì‡¼í•‘",
                        content: "ì•„ì´ë“¤ê³¼ í•¨ê»˜ ì‚¿í¬ë¡œ ë‹¤ì´ë§ˆë£¨ ë°±í™”ì  8ì¸µì— ìœ„ì¹˜í•œ 'í¬ì¼“ëª¬ ì„¼í„° ì‚¿í¬ë¡œ'ë¥¼ ë°©ë¬¸í•©ë‹ˆë‹¤. ë‹¤ì–‘í•œ êµ¿ì¦ˆì™€ ì´ë²¤íŠ¸ë¥¼ ì¦ê¸¸ ìˆ˜ ìˆëŠ” ì•„ì´ë“¤ì˜ ì²œêµ­ì…ë‹ˆë‹¤.",
                        details: "ìœ„ì¹˜: JR ì‚¿í¬ë¡œì—­ê³¼ ì§ê²°ëœ ë‹¤ì´ë§ˆë£¨ ë°±í™”ì  ë‚´. ê°™ì€ ì¸µì— ë‹¤ë¥¸ ìºë¦­í„° ìƒµ(ì‚°ë¦¬ì˜¤, ì í”„ìƒµ ë“±)ë„ ìˆì–´ í•¨ê»˜ ë‘˜ëŸ¬ë³´ê¸° ì¢‹ìŠµë‹ˆë‹¤."
                    },
                    alt: {
                        title: "ê·¸ë£¹ B: ì‚¿í¬ë¡œì—­ ì£¼ë³€ ììœ ì‹œê°„",
                        content: "ì‡¼í•‘ì„ ì¦ê¸°ê±°ë‚˜ ì—¬ìœ ë¡œìš´ ì‹œê°„ì„ ë³´ë‚´ê³  ì‹¶ì€ ì–´ë¥¸ë“¤ì„ ìœ„í•œ í”Œëœì…ë‹ˆë‹¤. ì‚¿í¬ë¡œì—­ì€ ê±°ëŒ€í•œ ë³µí•© ë¬¸í™” ê³µê°„ì…ë‹ˆë‹¤.",
                        details: "ì¶”ì²œ í™œë™:\n- ë‹¤ì´ë§ˆë£¨, ìŠ¤í…”ë¼ í”Œë ˆì´ìŠ¤ ë“± ë°±í™”ì  ë° ì‡¼í•‘ëª° êµ¬ê²½\n- JR íƒ€ì›Œ T38 ì „ë§ëŒ€ì—ì„œ ì‚¿í¬ë¡œ ì‹œë‚´ ì¡°ë§ (ìœ ë£Œ)\n- ì—­ ì£¼ë³€ ì¹´í˜ì—ì„œ ì—¬ìœ ë¡œìš´ ì»¤í”¼ íƒ€ì„"
                    }
                },
                { time: "18:00", icon: "ğŸ–", title: "ì €ë…: ì‚¿í¬ë¡œ ë¹„ë£¨ì—” ì§•ê¸°ìŠ¤ì¹¸", description: "ë¶‰ì€ ë²½ëŒ ê±´ë¬¼ì˜ ì´êµ­ì ì¸ ë¹„ì–´í™€ì—ì„œ í™‹ì¹´ì´ë„ ëŒ€í‘œ ìŒì‹ì¸ ì§•ê¸°ìŠ¤ì¹¸ì„ ë§›ë´…ë‹ˆë‹¤. ë¬´í•œë¦¬í•„ í”Œëœì€ ëŒ€ê°€ì¡±ì—ê²Œ í•©ë¦¬ì ì¸ ì„ íƒì…ë‹ˆë‹¤.", details: "ë§µì½”ë“œ: 9 251 135*55. 'ë‹¤ë£¨ë§ˆ'ì™€ ë‹¬ë¦¬ ì˜ˆì•½ì´ ê°€ëŠ¥í•˜ë¯€ë¡œ, 9ëª… ë‹¨ì²´ëŠ” ë°˜ë“œì‹œ ì˜¨ë¼ì¸/ì „í™”ë¡œ ì‚¬ì „ ì˜ˆì•½í•˜ì„¸ìš”." },
                { time: "ë°¤", icon: "ğŸŒƒ", title: "ì•¼ê²½ ê°ìƒ (ì„ íƒ)", description: "ì‚¿í¬ë¡œ TV íƒ€ì›Œì— ì˜¬ë¼ ì˜¤ë„ë¦¬ ê³µì›ì„ ì¤‘ì‹¬ìœ¼ë¡œ í¼ì³ì§€ëŠ” ë°˜ì§ì´ëŠ” ë„ì‹œì˜ ì•¼ê²½ì„ ê°ìƒí•˜ë©° í•˜ë£¨ë¥¼ ë§ˆë¬´ë¦¬í•©ë‹ˆë‹¤.", details: "ì…ì¥ë£Œ: ì„±ì¸ ì•½ 1,000ì—”. ì˜¨ë¼ì¸ ì˜ˆë§¤ ì‹œ í• ì¸ ê°€ëŠ¥." }
            ]
        },
        day4: {
            title: "ë§ˆì§€ë§‰ ì—¬ìš´ê³¼ ì‘ë³„",
            intro: "12ì‹œ 10ë¶„ ì¶œêµ­ í•­ê³µí¸ì— ë§ì¶° ë¶„ì£¼í•œ ì•„ì¹¨ì…ë‹ˆë‹¤. ìˆ™ì†Œ ì˜† ë‚˜ì¹´ì§€ë§ˆ ê³µì›ì—ì„œ ë§ˆì§€ë§‰ í™‹ì¹´ì´ë„ ê³µê¸°ë¥¼ ë§ˆì‹  í›„, ì„œë‘˜ëŸ¬ ê³µí•­ìœ¼ë¡œ ì´ë™í•˜ì—¬ ë Œí„°ì¹´ë¥¼ ë°˜ë‚©í•˜ê³  ì¶œêµ­ ì¤€ë¹„ë¥¼ í•©ë‹ˆë‹¤.",
            events: [
                { time: "08:00", icon: "ğŸŒ³", title: "ë‚˜ì¹´ì§€ë§ˆ ê³µì› ì‚°ì±… ë° ì²´í¬ì•„ì›ƒ", description: "ì´ë¥¸ ì•„ì¹¨, í˜¸í…” ë°”ë¡œ ì˜† ë‚˜ì¹´ì§€ë§ˆ ê³µì›ì—ì„œ ê°€ë²¼ìš´ ì‚°ì±…ì„ ì¦ê¸´ í›„, ì„œë‘˜ëŸ¬ ì²´í¬ì•„ì›ƒì„ ì¤€ë¹„í•©ë‹ˆë‹¤." },
                { time: "08:30", icon: "ğŸš—", title: "ì‹ ì¹˜í† ì„¸ ê³µí•­ìœ¼ë¡œ ì´ë™", description: "ì‚¿í¬ë¡œ ì‹œë‚´ì—ì„œ ê³µí•­ê¹Œì§€ëŠ” ì•½ 1ì‹œê°„ì´ ì†Œìš”ë©ë‹ˆë‹¤. êµí†µì²´ì¦ì„ ê°ì•ˆí•˜ì—¬ ëŠ¦ì–´ë„ 8ì‹œ 30ë¶„ì—ëŠ” ì¶œë°œí•´ì•¼ í•©ë‹ˆë‹¤." },
                { time: "09:30", icon: "â›½", title: "ë Œí„°ì¹´ ë°˜ë‚©", description: "ê³µí•­ ê·¼ì²˜ ì£¼ìœ ì†Œì—ì„œ ì—°ë£Œë¥¼ ê°€ë“ ì±„ìš´ í›„, ê° ë Œí„°ì¹´ íšŒì‚¬ ì˜ì—…ì†Œì— ì°¨ëŸ‰ 2ëŒ€ë¥¼ ë°˜ë‚©í•©ë‹ˆë‹¤. ë°˜ë‚© ì ˆì°¨ì™€ ì…”í‹€ ì´ë™ ì‹œê°„ì„ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤." },
                { time: "10:10", icon: "ğŸ›«", title: "íƒ‘ìŠ¹ ìˆ˜ì† ë° ê³µí•­ ì¦ê¸°ê¸°", description: "êµ­ì œì„  í•­ê³µí¸ì´ë¯€ë¡œ ìµœì†Œ 2ì‹œê°„ ì „ì—ëŠ” íƒ‘ìŠ¹ ìˆ˜ì†ì„ ì‹œì‘í•´ì•¼ í•©ë‹ˆë‹¤. ë‚¨ëŠ” ì‹œê°„ ë™ì•ˆ ê³µí•­ ë‚´ ë©´ì„¸ì  ì‡¼í•‘ì´ë‚˜ ì‹ì‚¬ë¥¼ ì¦ê¹ë‹ˆë‹¤.", details: "ì‹œê°„ì´ ë§¤ìš° ì´‰ë°•í•˜ë¯€ë¡œ ê³µí•­ ë‚´ í…Œë§ˆíŒŒí¬ ë°©ë¬¸ì€ ì–´ë µìŠµë‹ˆë‹¤. ë§ˆì§€ë§‰ ì‹ì‚¬ì™€ ê¸°ë…í’ˆ êµ¬ë§¤ì— ì§‘ì¤‘í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤." }
            ]
        },
        essentials: {
            title: "ì—¬í–‰ í•„ìˆ˜ í•µì‹¬ ì •ë³´",
            intro: "ì„±ê³µì ì¸ í™‹ì¹´ì´ë„ ì—¬í–‰ì„ ìœ„í•œ ëª¨ë“  í•„ìˆ˜ ì •ë³´ë¥¼ í•œê³³ì— ëª¨ì•˜ìŠµë‹ˆë‹¤. ì¶œë°œ ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ë¶€í„° ì˜ˆì‚° ê³„íš, ë¹„ìƒì‹œë¥¼ ëŒ€ë¹„í•œ ì—°ë½ì²˜ê¹Œì§€ ê¼¼ê¼¼í•˜ê²Œ í™•ì¸í•˜ì„¸ìš”.",
            sections: [
                {
                    title: "ì¶œë°œ ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸",
                    type: "checklist",
                    items: [
                        "ë Œí„°ì¹´ 2ëŒ€ ì˜ˆì•½ ì™„ë£Œ",
                        "êµ­ì œìš´ì „ë©´í—ˆì¦ (ìš´ì „ì ëª¨ë‘)",
                        "ì—¬í–‰ì ë³´í—˜ ê°€ì…",
                        "ë ˆì´ì–´ë“œ ìŠ¤íƒ€ì¼ ì˜·ì°¨ë¦¼ ì¤€ë¹„ (ë°©ìˆ˜/ë°©í’ ìì¼“ í¬í•¨)",
                        "ì£¼ìš” ì €ë… ì‹ë‹¹ ì‚¬ì „ ì˜ˆì•½ (í›„ë¼ë…¸ ë¼ í…Œë¥´, ì‚¿í¬ë¡œ ë¹„ë£¨ì—” ë“±)"
                    ]
                },
                {
                    title: "ì˜ˆìƒ ê²½ë¹„ ë¶„ì„ (ìˆ™ë°•ë¹„ ì œì™¸)",
                    type: "chart",
                    data: {
                        labels: ['êµí†µ (ë ŒíŠ¸/ì£¼ìœ /í†µí–‰ë£Œ)', 'ì‹ì‚¬', 'ê´€ê´‘/ì•¡í‹°ë¹„í‹°', 'ê¸°íƒ€ (ê°„ì‹ ë“±)'],
                        values: [110000, 150000, 25000, 20000]
                    }
                },
                {
                    title: "ì£¼ìš” ì—°ë½ì²˜ ë° ë§µì½”ë“œ",
                    type: "table",
                    headers: ["ì¥ì†Œ", "ì „í™”ë²ˆí˜¸", "ë§µì½”ë“œ"],
                    rows: [
                        ["í›„ë¼ë…¸ ë¼ í…Œë¥´", "0167-39-3100", "349 308 688*10"],
                        ["ì‹œí‚¤ì‚¬ì´ë…¸ì˜¤ì¹´", "0166-95-2758", "https://share.google/DtBPUq6XwT4eHzd1q"],
                        ["ì²­ì˜ í˜¸ìˆ˜", "N/A", "https://share.google/nDkgKN8H7NstGYfuU"],
                        ["ë‹êµ¬ë¥´ í…Œë¼ìŠ¤", "0167-22-1111", "919 554 432*81"],
                        ["í¬ì¼“ëª¬ ì„¼í„° ì‚¿í¬ë¡œ", "011-232-3200", "9 523 656*28"],
                        ["ì‚¿í¬ë¡œ ë¹„ë£¨ì—”", "0120-150-550", "9 251 135*55"],
                        ["í˜ë¥´ë©” ë¼ í…Œë ˆ ë¹„ì—ì´", "0166-74-4417", "349 790 676*74"]
                    ]
                }
            ]
        }
    };

    document.addEventListener('DOMContentLoaded', () => {
        const contentContainer = document.getElementById('app-content');
        const navButtons = document.querySelectorAll('.nav-button');

        const renderDay = (dayData, dayIndex) => {
            let eventsHtml = dayData.events.map((event, index) => {
                const eventId = `day${dayIndex}-event${index}`;
                if (event.isAlternative) {
                    return `
                            <div class="timeline-item relative pl-10 pb-10">
                                <div class="timeline-dot"></div>
                                <div class="bg-white p-4 rounded-lg shadow-md">
                                    <p class="text-sm font-semibold text-[#C8AD_B0]">${event.time}</p>
                                    <h3 class="text-xl font-bold mt-1 flex items-center">${event.icon} <span class="ml-2">${event.title}</span></h3>
                                    <p class="mt-2 text-gray-600">${event.description}</p>
                                    <div class="mt-4">
                                        <div class="flex border-b">
                                            <button class="alt-tab active flex-1 p-2 text-center font-semibold" data-alt-target="main${eventId}">ê·¸ë£¹ A</button>
                                            <button class="alt-tab flex-1 p-2 text-center font-semibold text-gray-500" data-alt-target="alt${eventId}">ê·¸ë£¹ B</button>
                                        </div>
                                        <div id="main${eventId}" class="alt-content active mt-3">
                                            <h4 class="font-bold text-lg text-[#588B8B]">${event.main.title}</h4>
                                            <p class="text-sm mt-1">${event.main.content}</p>
                                            <p class="mt-2 text-xs bg-teal-50 text-[#588B8B] p-2 rounded">${event.main.details}</p>
                                        </div>
                                        <div id="alt${eventId}" class="alt-content mt-3" style="display: none;">
                                            <h4 class="font-bold text-lg text-[#C8AD_B0]">${event.alt.title}</h4>
                                            <p class="text-sm mt-1">${event.alt.content}</p>
                                            <p class="mt-2 text-xs bg-rose-50 text-[#C8AD_B0] p-2 rounded">${event.alt.details}</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        `;
                }
                return `
                        <div class="timeline-item relative pl-10 pb-10 ${event.details ? 'cursor-pointer' : ''}" ${event.details ? `data-details-toggle="${eventId}"` : ''}>
                            <div class="timeline-dot"></div>
                            <div class="bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow">
                                <p class="text-sm font-semibold text-[#C8AD_B0]">${event.time}</p>
                                <h3 class="text-xl font-bold mt-1 flex items-center">${event.icon} <span class="ml-2">${event.title}</span></h3>
                                <p class="mt-2 text-gray-600">${event.description}</p>
                                ${event.details ? `
                                <div id="details-${eventId}" class="details-content">
                                    <div class="mt-4 pt-4 border-t border-gray-200">
                                        <p class="text-sm whitespace-pre-wrap text-gray-800 bg-gray-50 p-3 rounded-md">${event.details}</p>
                                    </div>
                                </div>
                                <div class="text-right text-xs mt-2 text-[#588B8B] font-semibold">ìƒì„¸ë³´ê¸° â–¼</div>
                                ` : ''}
                            </div>
                        </div>
                    `;
            }).join('');

            return `
                    <div class="text-center mb-8">
                        <h2 class="text-2xl font-bold">${dayData.title}</h2>
                        <p class="mt-2 max-w-2xl mx-auto">${dayData.intro}</p>
                    </div>
                    <div class="relative">${eventsHtml}</div>
                `;
        };

        const renderEssentials = (essentialsData) => {
            let sectionsHtml = essentialsData.sections.map(section => {
                let contentHtml = '';
                if (section.type === 'checklist') {
                    contentHtml = `<ul class="space-y-2 mt-4">${section.items.map(item => `
                            <li class="flex items-center">
                                <input type="checkbox" class="h-4 w-4 rounded border-gray-300 text-[#588B8B] focus:ring-[#588B8B]">
                                <label class="ml-3 text-gray-700">${item}</label>
                            </li>`).join('')}</ul>`;
                } else if (section.type === 'chart') {
                    contentHtml = `<div class="chart-container mt-4"><canvas id="budgetChart"></canvas></div>`;
                } else if (section.type === 'table') {
                    contentHtml = `
                            <div class="overflow-x-auto mt-4">
                                <table class="min-w-full bg-white text-sm">
                                    <thead class="bg-[#588B8B] text-white">
                                        <tr>${section.headers.map(h => `<th class="py-2 px-4 text-left font-medium">${h}</th>`).join('')}
                                        <th class="py-2 px-4 text-left"></th>
                                        </tr>
                                    </thead>
                                    <tbody class="divide-y divide-gray-200">
                                        ${section.rows.map(row => `
                                        <tr>
                                            ${row.map(cell => `<td class="py-2 px-4">${cell}</td>`).join('')}
                                            <td class="py-2 px-4"><button class="copy-mapcode-btn text-xs bg-[#C8AD_B0] text-white px-2 py-1 rounded-full hover:bg-[#588B8B]" data-mapcode="${row[2]}">ë³µì‚¬</button></td>
                                        </tr>`).join('')}
                                    </tbody>
                                </table>
                            </div>`;
                }
                return `
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <h3 class="text-xl font-bold">${section.title}</h3>
                            ${contentHtml}
                        </div>
                    `;
            }).join('');

            return `
                    <div class="text-center mb-8">
                        <h2 class="text-2xl font-bold">${essentialsData.title}</h2>
                        <p class="mt-2 max-w-2xl mx-auto">${essentialsData.intro}</p>
                    </div>
                    <div>${sectionsHtml}</div>
                `;
        };

        const initChart = (chartData) => {
            const ctx = document.getElementById('budgetChart').getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: chartData.labels,
                    datasets: [{
                        label: 'ì˜ˆìƒ ê²½ë¹„',
                        data: chartData.values,
                        backgroundColor: ['#588B8B', '#C8AD_B0', '#E5DDCB', '#B2A48D'],
                        borderColor: '#F8F5F2',
                        borderWidth: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed !== null) {
                                        label += new Intl.NumberFormat('ja-JP', { style: 'currency', currency: 'JPY' }).format(context.parsed);
                                    }
                                    return label;
                                }
                            }
                        }
                    }
                }
            });
        };

        const switchTab = (targetId) => {
            document.querySelectorAll('.content-section').forEach(s => s.classList.remove('active'));
            document.getElementById(targetId).classList.add('active');

            navButtons.forEach(b => b.classList.remove('active'));
            document.querySelector(`button[data-target="${targetId}"]`).classList.add('active');

            if (targetId === 'essentials' && !document.getElementById('budgetChart')?.hasAttribute('data-rendered')) {
                initChart(travelData.essentials.sections.find(s => s.type === 'chart').data);
                if(document.getElementById('budgetChart')) document.getElementById('budgetChart').setAttribute('data-rendered', 'true');
            }
        };

        document.getElementById('day1').innerHTML = renderDay(travelData.day1, 1);
        document.getElementById('day2').innerHTML = renderDay(travelData.day2, 2);
        document.getElementById('day3').innerHTML = renderDay(travelData.day3, 3);
        document.getElementById('day4').innerHTML = renderDay(travelData.day4, 4);
        document.getElementById('essentials').innerHTML = renderEssentials(travelData.essentials);

        navButtons.forEach(button => {
            button.addEventListener('click', () => switchTab(button.dataset.target));
        });

        contentContainer.addEventListener('click', (e) => {
            const detailsToggle = e.target.closest('[data-details-toggle]');
            if (detailsToggle) {
                const detailsId = 'details-' + detailsToggle.dataset.detailsToggle;
                const detailsContent = document.getElementById(detailsId);
                if (detailsContent) {
                    detailsContent.classList.toggle('open');
                }
            }

            const altTab = e.target.closest('.alt-tab');
            if (altTab) {
                const parent = altTab.closest('.flex.border-b').parentElement;
                parent.querySelectorAll('.alt-tab').forEach(t => {
                    t.classList.remove('active', 'text-[#588B8B]');
                    t.classList.add('text-gray-500');
                });

                altTab.classList.add('active', 'text-[#588B8B]');
                altTab.classList.remove('text-gray-500');

                parent.querySelectorAll('.alt-content').forEach(c => c.style.display = 'none');
                document.getElementById(altTab.dataset.altTarget).style.display = 'block';
            }

            const copyBtn = e.target.closest('.copy-mapcode-btn');
            if(copyBtn) {
                const mapcode = copyBtn.dataset.mapcode;
                if (mapcode && mapcode !== 'N/A') {
                    navigator.clipboard.writeText(mapcode).then(() => {
                        copyBtn.textContent = 'ë³µì‚¬ë¨!';
                        setTimeout(() => { copyBtn.textContent = 'ë³µì‚¬'; }, 2000);
                    }).catch(err => {
                        console.error('Failed to copy: ', err);
                        copyBtn.textContent = 'ì‹¤íŒ¨';
                    });
                }
            }
        });
    });
</script>
</body>
</html>
